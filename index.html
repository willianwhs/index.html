<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJUDAAÍ — Profissionais confiáveis perto de você</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
:root{
  --azul:#2563EB;
  --azul-claro:#EFF6FF;
  --amarelo:#FFC107;
  --amarelo-claro:#FFF8E1;
  --cinza:#F8FAFC;
  --texto:#1E293B;
  --verde:#25D366;
}

*{box-sizing:border-box;font-family:Inter,Arial,Helvetica,sans-serif}
body{margin:0;background:var(--cinza);color:var(--texto)}

header{
  background:linear-gradient(180deg,var(--azul-claro),#ffffff);
  padding:60px 20px 40px;
  text-align:center;
  border-bottom:1px solid #e5e7eb;
}

.logo{
  font-size:42px;
  font-weight:900;
  letter-spacing:1px;
}

.logo span:first-child{color:var(--azul)}
.logo span:last-child{color:var(--amarelo)}

.sub{
  margin-top:14px;
  font-size:20px;
  color:#334155;
}

.busca-box{
  margin:28px auto 0;
  max-width:720px;
  background:#fff;
  padding:14px;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.busca-box input{
  flex:1;
  padding:14px;
  border-radius:10px;
  border:1px solid #e2e8f0;
}

.btn{
  border:none;
  padding:14px 18px;
  border-radius:10px;
  font-weight:600;
  cursor:pointer;
}

.btn-buscar{background:var(--amarelo)}
.btn-local{background:var(--azul);color:#fff}
.btn-prestador{background:#fff;border:2px solid var(--azul);color:var(--azul)}

.categorias{
  margin:30px auto 0;
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
}

.cat{
  background:#fff;
  border:1px solid #e2e8f0;
  padding:10px 14px;
  border-radius:20px;
  cursor:pointer;
  font-size:14px;
}

.cat:hover{background:var(--azul-claro)}

.mapa-box{
  max-width:1100px;
  margin:40px auto;
  padding:0 20px;
}

#map{
  height:260px;
  border-radius:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
}

.cards{
  max-width:1100px;
  margin:20px auto 60px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:20px;
  padding:0 20px;
}

.card{
  background:#fff;
  border-radius:16px;
  padding:20px;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
  position:relative;
}

.selo{
  position:absolute;
  top:12px;
  right:12px;
  background:var(--azul);
  color:#fff;
  font-size:12px;
  padding:6px 10px;
  border-radius:20px;
}

.nome{font-weight:700;font-size:18px}
.serv{color:#475569;margin-top:4px}

.dist{margin-top:6px;font-size:13px;color:var(--azul);font-weight:600}

.btn-wa{
  display:inline-block;
  margin-top:12px;
  background:var(--verde);
  color:#fff;
  padding:10px 12px;
  border-radius:8px;
  text-decoration:none;
  font-weight:600;
}

.cta-prestador{
  background:linear-gradient(135deg,var(--azul),#3b82f6);
  color:#fff;
  padding:50px 20px;
  text-align:center;
}

.cta-prestador h2{margin:0;font-size:28px}

.cta-prestador p{margin:10px 0 20px}

.cta-prestador button{
  background:var(--amarelo);
  border:none;
  padding:14px 18px;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
}

footer{
  background:#ffffff;
  padding:30px 20px;
  text-align:center;
  border-top:1px solid #e5e7eb;
  color:#64748b;
}
</style>
</head>

<body>

<header>
  <div class="logo"><span>AJUDA</span><span>AÍ</span></div>
  <div class="sub">Profissionais confiáveis perto de você</div>

  <div class="busca-box">
    <input id="busca" placeholder="Digite sua cidade ou serviço (ex: encanador)">
    <button class="btn btn-buscar" onclick="buscar()">Buscar</button>
    <button class="btn btn-local" onclick="perto()">Perto de mim</button>
    <button class="btn btn-prestador" onclick="window.location='cadastro.html'">
      Sou prestador
    </button>
  </div>

  <div class="categorias">
    <div class="cat" onclick="cat('eletricista')">Eletricista</div>
    <div class="cat" onclick="cat('encanador')">Encanador</div>
    <div class="cat" onclick="cat('faxina')">Faxina</div>
    <div class="cat" onclick="cat('pedreiro')">Pedreiro</div>
  </div>
</header>

<div class="mapa-box">
  <div id="map"></div>
</div>

<section class="cards" id="lista"></section>

<section class="cta-prestador">
  <h2>É prestador de serviços?</h2>
  <p>Cadastre-se gratuitamente e comece a receber clientes na sua região.</p>
  <button onclick="window.location='cadastro.html'">Cadastrar agora</button>
</section>

<footer>
  © 2026 AJUDAAÍ • Plataforma brasileira de profissionais locais confiáveis
</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
const URL="https://raw.githubusercontent.com/willianwhs/ajudaai/main/prestadores.json";
let dados=[],markers=[];
let map=L.map('map').setView([-15.8,-47.9],4);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

fetch(URL).then(r=>r.json()).then(d=>dados=d);

function mostrar(lista){
  const el=document.getElementById("lista");
  el.innerHTML="";
  markers.forEach(m=>map.removeLayer(m));
  markers=[];

  lista.forEach(p=>{
    if(p.lat&&p.lng){
      markers.push(L.marker([p.lat,p.lng]).addTo(map));
    }

    el.innerHTML+=`
    <div class="card">
      ${p.verificado?'<div class="selo">Verificado</div>':''}
      <div class="nome">${p.nome}</div>
      <div class="serv">${p.servico} • ${p.cidade}</div>
      <a class="btn-wa" href="https://wa.me/55${p.whatsapp}" target="_blank">WhatsApp</a>
    </div>`;
  });
}

function buscar(){
  const t=document.getElementById("busca").value.toLowerCase();
  mostrar(dados.filter(p=>p.servico.toLowerCase().includes(t)||p.cidade.toLowerCase().includes(t)));
}

function cat(c){
  mostrar(dados.filter(p=>p.servico.toLowerCase().includes(c)));
}

function perto(){
  navigator.geolocation.getCurrentPosition(pos=>{
    map.setView([pos.coords.latitude,pos.coords.longitude],12);
  });
}
</script>

</body>
</html>
